
@{
    ViewBag.Title = "Contact";
    Layout = "~/Views/Shared/_LayoutUserCinema.cshtml";
}

<!-- contact -->
<div class="contact-agile">
    <br />
    @*<center><iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d3491.5636788147312!2d106.71949364975217!3d10.799998241797937!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x6eb34aa4513c78e7!2zQ28ub3BtYXJ0IFbEg24gVGjDoW5o!5e0!3m2!1svi!2s!4v1476533952578" width="1000" height="450" frameborder="0" style="border:0" allowfullscreen></iframe></center>*@
    <center>
        <div id="map" style="width:100%; height:400px;"></div>
        <br />
        <div>
            <button class="btn btn-primary" onclick="timDuongDi()">Tìm đường đi</button>
        </div>
    </center>
    <div class="faq">
        <h4 class="latest-text w3_latest_text">Liên hệ với chúng tôi</h4>
        <div class="container">
            <div class="col-md-3 location-agileinfo">
                <div class="icon-w3">
                    <span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span>
                </div>
                <h3>Địa chỉ</h3>
                <h4>1269 Trên Núi,</h4>
                <h4>Dưới Biển,</h4>
                <h4>Trái Đất.</h4>
            </div>
            <div class="col-md-3 call-agileits">
                <div class="icon-w3">
                    <span class="glyphicon glyphicon-earphone" aria-hidden="true"></span>
                </div>
                <h3>Số điện thoại</h3>
                <h4>+1698.681.685</h4>
                <h4>+911</h4>
                <h4>+113</h4>
            </div>
            <div class="col-md-3 mail-wthree">
                <div class="icon-w3">
                    <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>
                </div>
                <h3>Email</h3>
                <h4><a href="mailto:info@gmail.com">nhatthuan.hutech@gmail.com</a></h4>
                <h4><a href="mailto:info@example.com">example2@mail.com</a></h4>
                <h4><a href="mailto:info@example.com">example3@mail.com</a></h4>
            </div>
            <div class="col-md-3 social-w3l">
                <div class="icon-w3">
                    <span class="glyphicon glyphicon-user" aria-hidden="true"></span>
                </div>
                <h3>Social Media</h3>
                <ul>
                    <li><a href="https://www.facebook.com/WATCinemaFanpage/"><i class="fa fa-facebook" aria-hidden="true"></i><span class="text">Facebook</span></a></li>
                    @*<li class="twt"><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i><span class="text">Twitter</span></a></li>*@
                    <li class="ggp"><a href="#"><i class="fa fa-google-plus" aria-hidden="true"></i><span class="text">Google+</span></a></li>
                </ul>
            </div>
            <div class="clearfix"></div>
            @using (Html.BeginForm("Contact", "Cinema", FormMethod.Post))
            {

                <input type="text" name="email" placeholder="Email của bạn" required="">
                <input type="text" name="subject" placeholder="Tựa đề" required="">
                <textarea name="message" placeholder="Lời nhắn gửi từ bạn" required=""></textarea>
                <input type="submit" value="Gửi">
            }
        </div>
    </div>
</div>
<!-- Map-JavaScript -->
<script type="text/javascript">
    google.maps.event.addDomListener(window, 'load', init);
    function init() {
        var mapOptions = {
            zoom: 16,
            center: new google.maps.LatLng(10.801618, 106.733319),
            styles: [{ "featureType": "all", "elementType": "labels.text.fill", "stylers": [{ "saturation": 36 }, { "color": "#000000" }, { "lightness": 40 }] }, { "featureType": "all", "elementType": "labels.text.stroke", "stylers": [{ "visibility": "on" }, { "color": "#000000" }, { "lightness": 16 }] }, { "featureType": "all", "elementType": "labels.icon", "stylers": [{ "visibility": "off" }] }, { "featureType": "administrative", "elementType": "geometry.fill", "stylers": [{ "color": "#000000" }, { "lightness": 20 }] }, { "featureType": "administrative", "elementType": "geometry.stroke", "stylers": [{ "color": "#000000" }, { "lightness": 17 }, { "weight": 1.2 }] }, { "featureType": "landscape", "elementType": "geometry", "stylers": [{ "color": "#000000" }, { "lightness": 20 }] }, { "featureType": "poi", "elementType": "geometry", "stylers": [{ "color": "#000000" }, { "lightness": 21 }] }, { "featureType": "road.highway", "elementType": "geometry.fill", "stylers": [{ "color": "#000000" }, { "lightness": 17 }] }, { "featureType": "road.highway", "elementType": "geometry.stroke", "stylers": [{ "color": "#000000" }, { "lightness": 29 }, { "weight": 0.2 }] }, { "featureType": "road.arterial", "elementType": "geometry", "stylers": [{ "color": "#000000" }, { "lightness": 18 }] }, { "featureType": "road.local", "elementType": "geometry", "stylers": [{ "color": "#000000" }, { "lightness": 16 }] }, { "featureType": "transit", "elementType": "geometry", "stylers": [{ "color": "#000000" }, { "lightness": 19 }] }, { "featureType": "water", "elementType": "geometry", "stylers": [{ "color": "#000000" }, { "lightness": 17 }] }]
        };
        var mapElement = document.getElementById('map');
        var map = new google.maps.Map(mapElement, mapOptions);
        var marker = new google.maps.Marker({
            position: new google.maps.LatLng(10.801618, 106.733319),
            map: map,
            title: "WAT Cinema",
        });
    }
    function timDuongDi() {
        var latlng = new google.maps.LatLng(10.801618, 106.733319); //Vị trí của cửa hàng
        var map = new google.maps.Map(document.getElementById('map'), {
            center: latlng,
            zoom: 16
        });
        var infoWindow = new google.maps.InfoWindow({ map: map });

        // Try HTML5 geolocation.
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(function (position) {
                var pos = {
                    lat: position.coords.latitude,
                    lng: position.coords.longitude
                };

                infoWindow.setPosition(pos);
                infoWindow.setContent('Vị trí của bạn');
                map.setCenter(pos);

                var directionsDisplay = new google.maps.DirectionsRenderer({
                    map: map
                });
                var request = {
                    destination: latlng,
                    origin: pos,
                    travelMode: google.maps.TravelMode.DRIVING
                };
                var directionsService = new google.maps.DirectionsService();
                directionsService.route(request, function (response, status) {
                    if (status == google.maps.DirectionsStatus.OK) {
                        // Display the route on the map.
                        directionsDisplay.setDirections(response);
                    }
                });
            }, function () {
                handleLocationError(true, infoWindow, map.getCenter());
            });
        } else {
            // Browser doesn't support Geolocation
            handleLocationError(false, infoWindow, map.getCenter());
        }
    }
    function handleLocationError(browserHasGeolocation, infoWindow, pos) {
        infoWindow.setPosition(pos);
        infoWindow.setContent(browserHasGeolocation ?
                              'Error: The Geolocation service failed.' :
                              'Error: Your browser doesn\'t support geolocation.');
    }

</script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB3fByx8K4DLCb3SgvDo78DsVSDSUNMGWo&callback=init"></script>
